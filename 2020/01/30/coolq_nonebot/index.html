
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>酷Q机器人 NoneBot - 馒++</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    
    <meta name="keywords" content="cocoa,"> 
    <meta name="description" content="使用几天后不稳 可能是我内存不够服务器才1G内存 NoneBot占用 10% 开启debug 18% 略吃紧白天挂云服务器还正常 第二天早上就假死酷Q有上报 但是NoneBot没有接收到任何信息重启,"> 
    <meta name="author" content="Hoto cocoa"> 
    <link rel="alternative" href="atom.xml" title="馒++" type="application/atom+xml"> 
    <link rel="icon" href="/img/logo.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    
    
    <!--
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="/js/amp-auto-ads-0.1.js">
    </script>
  -->

    <!--动态标题
<script>document.addEventListener('visibilitychange',function(){if(document.visibilityState=='hidden'){normal_title=document.title;document.title='人呢？快回来！';}else{document.title=normal_title;}});</script>
-->

</head>

<body class="loading">
    <span id="config-title" style="display:none">馒++</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" target="_blank" rel="noopener" data-url="http://hotococoa.com"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">酷Q机器人 NoneBot</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" target="_blank" rel="noopener" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;" target="_blank" rel="noopener"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">酷Q机器人 NoneBot</h1>
        <div class="stuff">
            <span>一月 30, 2020</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/coolq/" rel="tag">coolq</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/python/" rel="tag">python</a></li></ul>


        </div>
        <div class="content markdown">
            <h2 id="使用几天后"><a href="#使用几天后" class="headerlink" title="使用几天后"></a>使用几天后</h2><p>不稳 可能是我内存不够<br>服务器才1G内存 NoneBot占用 10% 开启debug 18% 略吃紧<br>白天挂云服务器还正常 第二天早上就假死<br>酷Q有上报 但是NoneBot没有接收到任何信息<br>重启居然又能用 一万个问号<br>暂时放弃NoneBot 使用另一个coolq-http-api<br>同样使用flask与博客共存  </p>
<h2 id="为什么使用NoneBot"><a href="#为什么使用NoneBot" class="headerlink" title="为什么使用NoneBot"></a>为什么使用NoneBot</h2><blockquote>
<p>人生苦短 我用python   </p>
</blockquote>
<ul>
<li>NoneBot : 基于酷Q的Python异步QQ机器人框架 简介 易扩展 高性能</li>
<li>官方CQP sdk : 非法占用内存 估计也是数组越界 不是python的锅 不懂dll 已弃</li>
<li>原生易语言模块: 做界面很快 逻辑处理就一脸懵逼 语法贼复杂 习惯英文编程 看不懂中文语法 思路转不过来 已弃</li>
</ul>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul>
<li>CentOS 7</li>
<li>Python 3.7.5 </li>
<li>NoneBot 1.3.1</li>
<li>Python 必须 &gt;= 3.6 其他好像无所谓</li>
</ul>
<h2 id="原理如图"><a href="#原理如图" class="headerlink" title="原理如图"></a>原理如图</h2><p>酷Q从服务器接收QQ消息 转发给NoneBot 处理过后再传给酷Q返回给腾讯  </p>
<p><img src="https://hotobun.gitee.io/hexo/img/archive_img/coolq_nonebot_flow_chart.png" alt=""></p>
<h2 id="配置Docker"><a href="#配置Docker" class="headerlink" title="配置Docker"></a>配置Docker</h2><p>安装Docker 略..</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 下载酷Q官方docker镜像</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker pull coolq/wine-coolq</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建项目映射目录 备用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir coolq</span></span></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装酷Q容器</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker run -d --name coolq -d -p 9000:9000 -p 5700:5700 -v /home/Hoto/coolq:/home/user/coolq -e VNC_PASSWD=password -e COOLQ_ACCOUNT=12345678  -e CQHTTP_POST_URL=http://171.18.0.1:8080  -e CQHTTP_SERVE_DATA_FILES=yes coolq/wine-coolq</span></span></pre></td></tr></table></figure>

<p>浏览器打开 服务器ip或域名:9000端口 可以看到noVNC 输入密码 就是刚刚的VNC_PASSWD<br>进入后一顿操作 登录一次 开启一次http模块然后退出来    </p>
<p>回到服务器shell<br>打开酷Q配置文件夹 一般在coolq/data/app/io.github.richardchien.coolqhttpapi/config/<br>里面有刚刚登录过的 QQ号.json 打开修改下面3行 其他按需求填    </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"host"</span>: <span class="string">"[::]"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"port"</span>: <span class="number">5700</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"use_http"</span>: <span class="literal">true</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_host"</span>: <span class="string">"[::]"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_port"</span>: <span class="number">6700</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"use_ws"</span>: <span class="literal">false</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_reverse_url"</span>: <span class="string">""</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_reverse_api_url"</span>: <span class="string">"ws://172.18.0.1:8080/ws/api/"</span>,    <span class="comment">// 这里</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_reverse_event_url"</span>: <span class="string">"ws://172.18.0.1:8080/ws/event/"</span>,<span class="comment">// 这里</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_reverse_reconnect_interval"</span>: <span class="number">3000</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"ws_reverse_reconnect_on_code_1000"</span>: <span class="literal">true</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"use_ws_reverse"</span>: <span class="literal">true</span>,   <span class="comment">// 这里</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"post_url"</span>: <span class="string">""</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"access_token"</span>: <span class="string">""</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"secret"</span>: <span class="string">""</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"post_message_format"</span>: <span class="string">"string"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"serve_data_files"</span>: <span class="literal">false</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"update_source"</span>: <span class="string">"china"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"update_channel"</span>: <span class="string">"stable"</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"auto_check_update"</span>: <span class="literal">false</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"auto_perform_update"</span>: <span class="literal">false</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"show_log_console"</span>: <span class="literal">true</span>,</span></pre></td></tr><tr><td class="code"><pre><span class="line">    <span class="attr">"log_level"</span>: <span class="string">"info"</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h4 id="重点-要考的"><a href="#重点-要考的" class="headerlink" title="重点 要考的"></a>重点 要考的</h4><p>ip如果不通 记得先测试 哪个ip通网填哪个 官方配置在linux是行不通的     </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 用下面两条命令都可以查看ip</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">$ ifocnfig</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ ip addr</span></pre></td></tr><tr><td class="code"><pre><span class="line">  </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"># 容器ip 172.18.0.2   </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="comment"># 主机ip 172.18.0.1</span></span></pre></td></tr></table></figure>
<p>这里填的是酷Q向Nonebot请求的ip NoneBot部署在172.18.0.1   </p>
<p>配置过后 再次浏览器打开 ip:9000 进入noNVC<br>运行酷Q 登录 启用http插件  </p>
<h2 id="git相关"><a href="#git相关" class="headerlink" title="git相关"></a>git相关</h2><p>ssh免密码 略..  不需要git的略..</p>
<p>服务器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 视情况该路径</span></pre></td></tr><tr><td class="code"><pre><span class="line"># 创建裸仓库</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ git init --bare nonebot.git</span></pre></td></tr><tr><td class="code"><pre><span class="line">  </span></pre></td></tr><tr><td class="code"><pre><span class="line"># 创建钩子文件 nonebot.git是仓库 mybot是本地push后文件映射到服务器的路径 </span></pre></td></tr><tr><td class="code"><pre><span class="line">$ vim nonebot.git&#x2F;hooks&#x2F;post-receive</span></pre></td></tr><tr><td class="code"><pre><span class="line"># &#x2F;bin&#x2F;sh</span></pre></td></tr><tr><td class="code"><pre><span class="line">git --work-tree&#x3D;&#x2F;home&#x2F;Hoto&#x2F;cocoa&#x2F;mybot --git-dir&#x3D;&#x2F;home&#x2F;Hoto&#x2F;cocoa&#x2F;nonebot.git checkout -f</span></pre></td></tr><tr><td class="code"><pre><span class="line">  </span></pre></td></tr><tr><td class="code"><pre><span class="line"># 添加执行权限</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ chmod +x nonebot.git&#x2F;hooks&#x2F;post-receive</span></pre></td></tr></table></figure>
<p>本地Windows </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 创建仓库 已有就略..</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ git init</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ git add .</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ git commit -m &quot;firsh commit&quot;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  </span></pre></td></tr><tr><td class="code"><pre><span class="line"># user视情况填 不是全都用git用户 这里踩了个坑 以为是git语法 </span></pre></td></tr><tr><td class="code"><pre><span class="line">$ git remote add origin Hoto@hotococoa.com:&#x2F;home&#x2F;Hoto&#x2F;cocoa&#x2F;nonebot.git</span></pre></td></tr><tr><td class="code"><pre><span class="line">  </span></pre></td></tr><tr><td class="code"><pre><span class="line">$ git push -u origin master</span></pre></td></tr></table></figure>

<h2 id="NoneBot"><a href="#NoneBot" class="headerlink" title="NoneBot"></a>NoneBot</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装虚拟环境 这里使用pipenv</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 命令行直接装 详细配置查看官网</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install pipenv </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 进入mybot目录 创建环境 </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> mybot</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pipenv install</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装依赖 有几个需要的库不会自动装 </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 报warning再弄吧 也不出错 弄不懂到底需不需要 反正能用</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pipenv install msgpack</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pipenv install ujson</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pipenv install requests</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pipenv install nonebot</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 运行</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pipenv run python bot.py </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 运行不等于挂机 你退出shell就没了 测试过代码没问题后 </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 用下面命令 不间断+后台+运行</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nohup pipenv run python bot.py &amp;</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看网关 </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> netstat -tnlp </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看nohup运行日志 看到有 GET /ws/xxx/ 101 就连接成功 </span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 没就慌了 检查ip 写几个socket测试通不通网 这里我卡了半天</span></span></pre></td></tr><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tail -n 50 nohup</span></span></pre></td></tr></table></figure>
<p><img src="https://hotobun.gitee.io/hexo/img/archive_img/coolq_nonebot_nohup.png" alt=""></p>
<p>如果有两个 GET /ws/xxx/ 101  说明已经配置完成了<br>剩下就是开发插件的事了 现有的插件丢上去都能用  </p>
<h2 id="一堆坑"><a href="#一堆坑" class="headerlink" title="一堆坑"></a>一堆坑</h2><h2 id="提示缺少-Windows-Script-Control组件"><a href="#提示缺少-Windows-Script-Control组件" class="headerlink" title="提示缺少 Windows Script Control组件"></a>提示缺少 Windows Script Control组件</h2><p>这是由于 Wine 对部分组件支持不完全造成的<br>通过 Winetricks 安装 msscript 及 winhttp 组件即可<br>右击空白调出菜单 进入命令行 下面3条命令 运行完就ok</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;Winetricks&#x2F;winetricks&#x2F;master&#x2F;src&#x2F;winetricks</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ chmod +x winetricks</span></pre></td></tr><tr><td class="code"><pre><span class="line">$ sh winetricks msscript winhttp</span></pre></td></tr></table></figure>

<h2 id="nonebot-init-error"><a href="#nonebot-init-error" class="headerlink" title="nonebot init error"></a>nonebot <strong>init</strong> error</h2><p>本来是按原教程操作的 Windows上一切正常<br>部署上云后各种问题 毕竟是linux 没有原生windows环境<br>首先 项目目录里的config.py 写了如下参数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 看上去很正常</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">PORT = <span class="number">8080</span></span></pre></td></tr><tr><td class="code"><pre><span class="line">HOST = <span class="string">'127.0.0.1'</span></span></pre></td></tr></table></figure>
<p>然后 运行bot.py时报错 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">__init__ got an unexpected keyword argument host</span></pre></td></tr></table></figure>
<p>查看源码 也没看出问题 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># NoneBot&#x2F;__init__.py line 25-26</span></pre></td></tr><tr><td class="code"><pre><span class="line">super().__init__(message_class&#x3D;aiocqhttp.message.Message,</span></pre></td></tr><tr><td class="code"><pre><span class="line">        **&#123;k.lower(): v for k, v in config_dict.items()&#125;)</span></pre></td></tr></table></figure>
<p>最后一顿操作测试 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># print() 成功输出两个config.py中的值 证明这个字典正确</span></pre></td></tr><tr><td class="code"><pre><span class="line">print(config_dict[&#39;PORT&#39;],config_dict[&#39;HOST&#39;])</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"># 删掉 **&#123;dict ... &#125; 没报错</span></pre></td></tr><tr><td class="code"><pre><span class="line">super().__init__(message_class&#x3D;aiocqhttp.message.Message)</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line"># 关键字参数  同样报错</span></pre></td></tr><tr><td class="code"><pre><span class="line">super().__init__(message_class&#x3D;aiocqhttp.message.Message,</span></pre></td></tr><tr><td class="code"><pre><span class="line">            host&#x3D;&#39;172.18.0.1&#39;, port&#x3D;8080)</span></pre></td></tr></table></figure>
<p>结论 这个<strong>init</strong>就不能传ip端口进去 直接写的传关键字都报错<br>解决：</p>
<ul>
<li>注意括号 删掉 **{k.lower(): v for k, v in config_dict.items()}</li>
<li>如果要修改端口和ip去 nonebot目录 default_config.py修改</li>
</ul>
<p>尝试运行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pipenv run python bot.py</span></pre></td></tr></table></figure>
<p>成功 看到等待会话状态<br>但这只能使nonebot运行起来 并不保证与酷Q连接 这两部分是独立的  </p>
<h2 id="连接酷Q"><a href="#连接酷Q" class="headerlink" title="连接酷Q"></a>连接酷Q</h2><p>巨坑<br>在容器的noNVC 右键菜单 打开命令行<br>ip addr 查看ip 显示 172.18.0.2  </p>
<p>主机对应ip 172.18.0.1  </p>
<p>此处 应该修改前面说的 default_config.py<br>因为项目目录写的config.py 在<strong>init</strong>.py 读入会报错啊   </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># nonebot库目录&#x2F;default_config.py  line 25-26</span></pre></td></tr><tr><td class="code"><pre><span class="line">HOST: str &#x3D; &#39;127.0.0.1&#39;</span></pre></td></tr><tr><td class="code"><pre><span class="line">PORT: int &#x3D; 8080</span></pre></td></tr><tr><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="code"><pre><span class="line"># 修改为</span></pre></td></tr><tr><td class="code"><pre><span class="line">HOST: str &#x3D; &#39;172.18.0.1&#39;</span></pre></td></tr><tr><td class="code"><pre><span class="line">PORT: int &#x3D; 8080</span></pre></td></tr></table></figure>
<p>这两个是nonebot绑定监听的ip端口 nonebot就在这里 可以看前面绘图<br>nonebot到这里基本配置完毕 </p>
<p>docker容器方面 </p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://hotobun.gitee.io/hexo/music/re.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div>
    <h3 align="right">
        <a href ="/hexo/valine/">Valine留言板</a>
    </h3>
    </div>
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='1300b5a0ebcfedf6301e'
        data-cs='aa47d2be8d26a5880165e086fd136160923c6e30'
        data-r='HexoGitalk'
        data-o='Hotobun'
        data-a='Hotobun'
        data-d='false'
    >查看评论</div>



    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
